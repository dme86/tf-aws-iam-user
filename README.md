### terraform iam-users module

This module creates users from a ***.tfvars** file

## Example for main.tf

```hcl
module "users" {
  source                 = "github.com/dme86/tf-aws-iam-user?ref=v0.1"
  users                  = var.users
}
```

You also need to declare the users variable in your root variables.tf:

```hcl
variable "users" {}
```

## Example common.tfvars

This example will create two users with accesskey & secret within aws secrets manager.
Their Mailadresses will also be used inside a dynamic tagging schema.

If you're using terraform with ***.tfvars** you have to call every operation (plan|apply|destroy) with the parameter

```hcl
-var-file=/path/to/tfvarsfile
```

```hcl
    users = {
      "username-1" = {
        path            = "/"
        force_destroy   = true
        tag_email       = "foo@example.com"
      }
      "username-2" = {
        path            = "/"
        force_destroy   = true
        tag_email       = "bar@example.com"
      }
    }
```

## Example outputs.tf

This example inside your root outputs.tf will output the ARNs and IDs from all users generated by tfvars file

```hcl
    output "user_arns" {
      value             = module.users.user_arns
    }
    
    output "user_ids" {
      value             = module.users.user_ids
    }
```

## Attributes
|Attribute|Default|
|--|--|
|name|(Required) The user's name. The name must consist of upper and lowercase alphanumeric characters with no spaces. You can also include any of the following characters: =,.@-_.. User names are not distinguished by case. For example, you cannot create users named both "TESTUSER" and "testuser".|
|force_destroy|(Optional, default false) When destroying this user, destroy even if it has non-Terraform-managed IAM access keys, login profile or MFA devices. Without force_destroy a user with non-Terraform-managed access keys and login profile will fail to be destroyed.|
|path|(Optional, default "/") Path in which to create the user.|
|permissions_boundary|(Optional) The ARN of the policy that is used to set the permissions boundary for the user.|

## More

Check out my other [terraform-aws-modules](https://github.com/dme86?tab=repositories&q=tf-aws)

## Contact

[Linkedin](https://www.linkedin.com/in/dmeier86/)
